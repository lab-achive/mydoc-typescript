---
id: 02变量定义_v3.7
title: 变量定义
---

`let` 和 `const` 是 JavaScript 中相对比较新的变量定义方式，[正如我们前面所述](./01数据类型_v3.7.html#关于-let)，`let` 在某些方面和 `var` 有些类似，但是 `let` 可以避免使用者在使用 JavaScript 编写代码时落入一些常见的陷阱。`const` 为 `let` 增加了一些特性，阻止变量被重新赋值。

TypeScript 是 JavaScript 的超集，自然支持 `let` 和 `const`，在这里，我们将详细说明这些新的定义方式以及为什么它们比 `var` 更可取。

如果你使用过 JavaScript，下面的部分将帮助你加深印象，如果你非常了解使用 `var` 定义变量的时候造成的令人迷惑的问题，那对你来说就很简单了。

## 使用 var

在 JavaScript 中声明变量我们习惯性地采用 `var` 关键字。
<!--JavaScript-->

```js
var a = 10;
```

你应该知道，代码声明了一个变量 `a`，它的值是 10。

我们也可以在函数中声明一个变量。
<!--JavaScript-->

```js
function f() {
    var message = "Hello, world!";

    return message;
}
```

我们也可以在其他的函数内部访问这些变量。
<!--JavaScript-->

```js
function f() {
    var a = 10;
    return function g() {
        var b = a + 1;
        return b;
    }
}

var g = f();
g(); // returns '11'
```

在上面的例子中，变量 g 使用了在函数 f 中声明的变量 a，当 g 被调动的时候，a 的值将于函数 f 中 a 的值绑定。就算 f 函数已经执行完成，a 的值仍然可以被访问或被修改。
<!--JavaScript-->

```js
function f() {
    var a = 1;

    a = 2;
    var b = g();
    a = 3;

    return b;

    function g() {
        return a;
    }
}

f(); // returns '2'
```

### 作用域规则

相比其他语言，用 `var` 声明的变量有一些奇怪的作用域规则，看下面的例子。
<!--JavaScript-->

```js
function f(shouldInitialize: boolean) {
    if (shouldInitialize) {
        var x = 10;
    }

    return x;
}

f(true);  // returns '10'
f(false); // returns 'undefined'
```

一些读者可能会去再试一遍这个例子，变量 x 在 if 代码块中声明了，我们可以从 if 代码块的外部访问它，因为 var 声明的变量可以在函数、模块、命名空间或者全局范围内的任何位置，这些我们后面都会详细描述。**~包含变量的代码段有些人称为 `var` 作用域或函数作用域，参数也是函数作用域。**

### 令人迷惑的变量

## 使用 let

### 块级作用域

### 重写和覆盖

### 块级作用域的变量

## 使用 const

## let vs const

## 解构

### 数组解构

### 元组解构

### 对象解构

### 属性重命名

### 默认值

### 函数定义

### 重组
